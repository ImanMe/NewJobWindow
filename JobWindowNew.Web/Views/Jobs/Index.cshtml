
@model PagedList.IPagedList<JobWindowNew.Domain.ViewModels.JobGridViewModel>
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
 <div class="row">
     <div class="pull-right">
         <button class="btn btn-warning duplicate-btn" onclick="location.href='@Url.Action("Duplicates", "Jobs")'">Show Duplicates</button>
         <button class="btn btn-warning createNew-btn" onclick="location.href = '@Url.Action("Create", "Jobs")'">Create New</button>
     </div>
    </div>    
@using (Html.BeginForm("Index", "Jobs", FormMethod.Get))
{   
    @*<p>
        Find by Id: @Html.TextBox("idSearch", ViewBag.IdFilter as string)
        Find by Title: @Html.TextBox("titleSearch", ViewBag.TitleFilter as string)
        <input type="submit" value="Search"/>
    </p>*@
       
    <div class="tablewrap">
        <table class="table table-condensed jobtable">            
            <tr>
                <th colspan="3" class="text-center">Actions</th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.IdParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">ID<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.CloneFromParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">CloneFromID<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.EverGreenIDParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">EverGreenID<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.TitleParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Title<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.JobBoardParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Job Board<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.CityParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">City<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.StateNameParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">State<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.CountryNameParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Country<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.CompanyNameParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Company Name<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.SchedulingPodParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">PodId<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.DivisionParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Division<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.ActivationDateParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Activation Date<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.ExpirationDateParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Expiration Date<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.CreatedByParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Created By<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.CreatedDateParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Created Date<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.BobParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">BOB<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.IntvsParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Intvs<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.Intvs2Parm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">Intvs 2nd<i class="glyphicon glyphicon-sort"></i></a></th>
                <th><a href="@Url.Action("Index", new {sortOrder = ViewBag.ApsClParm, idFilter = ViewBag.IdFilter, titleFilter = ViewBag.TitleFilter})">ApsCl<i class="glyphicon glyphicon-sort"></i></a></th>

            </tr>                                   
            <tr class="inputtr">
                <th colspan="3" style="padding-left: 9px;" class=""><button class="btn btn-primary btnsearch" type="submit"><i class="glyphicon glyphicon-search"></i> Search</button></th>
                <th>@Html.TextBox("idSearch", ViewBag.IdFilter as string, new {@class="form-control"})</th>
                <th></th>
                <th></th>
                <th>@Html.TextBox("titleSearch", ViewBag.TitleFilter as string, new { @class = "form-control" })</th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>               
            </tr>
            @foreach (var job in Model)
            {
                <tr class="">
                    <td class="btnactions text-center">
                        <a class="btn btn-default" href="@Url.Action("Edit", new {@id = job.Id})">
                            <i class="glyphicon glyphicon-pencil"></i>
                        </a>
                    </td>
                    <td class="btnactions text-center">
                        <a class="btn btn-default" href="@Url.Action("Clone", new {@id = job.Id})">
                            <i class="glyphicon glyphicon-repeat"></i>
                        </a>
                    </td>
                    <td class="btnactionslast text-center">
                        <a onclick = "return confirm('Are sure wants to delete?');" class="btn btn-default deleteButton" , href="@Url.Action("Delete", new {@id = job.Id})">
                            <i class="glyphicon glyphicon-trash"></i>
                        </a>
                    </td>
                    <td class="">@Html.DisplayFor(m => job.Id) @if (job.IsExpired)
                                                                     {
                                                                         <span class="label label-danger">Expired</span>
                                                                     }
                                                                     else
                                                                     {
                                                                         <span class="label label-success">Active</span>
                                                                     }</td>
                    <td class="">@Html.DisplayFor(m => job.CloneFrom)</td>
                    <td class="">@Html.DisplayFor(m => job.EverGreenId)</td>
                    <td class="">@Html.DisplayFor(m => job.Title)</td>
                    <td class="">@Html.DisplayFor(m => job.JobBoard)</td>
                    <td class="">@Html.DisplayFor(m => job.City)</td>
                    <td class="">@Html.DisplayFor(m => job.StateName)</td>
                    <td class="">@Html.DisplayFor(m => job.CountryName)</td>
                    <td class="">@Html.DisplayFor(m => job.CompanyName)</td>
                    <td class="">@Html.DisplayFor(m => job.SchedulingPod)</td>
                    <td class="">@Html.DisplayFor(m => job.Division)</td>
                    <td class="">@Html.DisplayFor(m => job.ActivationDate)</td>
                    <td class="">@Html.DisplayFor(m => job.ExpirationDate)</td>
                    <td class="">@Html.DisplayFor(m => job.CreatedBy)</td>
                    <td class="">@Html.DisplayFor(m => job.CreatedDate)</td>
                    <td class="">@Html.DisplayFor(m => job.Bob)</td>
                    <td class="">@Html.DisplayFor(m => job.Intvs)</td>
                    <td class="">@Html.DisplayFor(m => job.Intvs2)</td>                    
                    <td class="">@Html.DisplayFor(m => job.ApsCl)</td>                    
                </tr>
            }           
        </table>
    </div>
}
<div class="customePager">
    Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
    <div class="text-center">
        @Html.PagedListPager(Model, page => Url.Action("Index",
            new { page, titleFilter = ViewBag.TitleFilter, ViewBag.IdFilter, sortOrder = ViewBag.CurrentSort }))
    </div>
</div>

@section Scripts{
    @*<script>
        $(document).ready(function () {
            $(".deleteButton").click(function () {
                confirm('Are you sure?');
            });

        });
    </script>*@
}
